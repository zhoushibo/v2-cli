# ABE å®¢æˆ·ç«¯éƒ¨ç½²æŒ‡å—

## ç³»ç»Ÿè¦æ±‚

- abe æœºå™¨æ“ä½œç³»ç»Ÿ: Windows (192.168.3.200)
- Redis æœåŠ¡å™¨: 192.168.3.250:6379 (Host æœºå™¨)
- Node.js: >= 18.0.0
- LM Studio: http://192.168.3.200:1234/v1

---

## å¿«é€Ÿéƒ¨ç½²ï¼ˆ5 åˆ†é’Ÿï¼‰

### ç¬¬ 1 æ­¥ï¼šå‡†å¤‡éƒ¨ç½²åŒ…ï¼ˆHost æœºå™¨ï¼‰

éƒ¨ç½²åŒ…å·²å‡†å¤‡å¥½ï¼š
- **ä½ç½®**: `C:\Users\10952\.openclaw\workspace\3party-chat-deploy-v2.tar.gz`
- **å¤§å°**: 18.8 KB
- **å†…å®¹**: å®Œæ•´çš„ 3party-chat é¡¹ç›®ï¼ˆä¸å« node_modulesï¼‰

**å¤åˆ¶åˆ° abe æœºå™¨**ï¼š
```powershell
# æ–¹æ³• A: å…±äº«æ–‡ä»¶å¤¹ï¼ˆæ¨èï¼‰
# å°†æ–‡ä»¶å¤åˆ¶åˆ° abe é€šè¿‡ç½‘ç»œå…±äº«

# æ–¹æ³• B: ç§»åŠ¨ç¡¬ç›˜
# å°†æ–‡ä»¶å¤åˆ¶åˆ° USBï¼Œç„¶ååœ¨ abe ä¸Šå¤åˆ¶

# æ–¹æ³• C: SCPï¼ˆå¦‚æœ OpenSSH å·²é…ç½®ï¼‰
scp C:\Users\10952\.openclaw\workspace\3party-chat-deploy-v2.tar.gz abe@192.168.3.200:/tmp/
```

---

### ç¬¬ 2 æ­¥ï¼šåœ¨ abe æœºå™¨ä¸Šè§£å‹

åœ¨ abe æœºå™¨ï¼ˆ192.168.3.200ï¼‰ä¸Šæ‰“å¼€ PowerShellï¼Œæ‰§è¡Œï¼š

```powershell
# 1. åˆ›å»ºéƒ¨ç½²ç›®å½•
New-Item -Path "C:\3party-chat" -ItemType Directory -Force

# 2. è§£å‹éƒ¨ç½²åŒ…ï¼ˆå‡è®¾æ–‡ä»¶åœ¨ C:\Downloadsï¼‰
tar -xzf "C:\Downloads\3party-chat-deploy-v2.tar.gz" -C C:\

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd C:\3party-chat
```

---

### ç¬¬ 3 æ­¥ï¼šå®‰è£…ä¾èµ–å’Œç¼–è¯‘

```powershell
# 1. å®‰è£… npm ä¾èµ–
npm install

# 2. ç¼–è¯‘é¡¹ç›®
npm run build
```

---

### ç¬¬ 4 æ­¥ï¼šå¯åŠ¨ abe å®¢æˆ·ç«¯

```powershell
# å¯åŠ¨ abe å®¢æˆ·ç«¯ï¼ˆè¿œç¨‹é…ç½®ï¼‰
node start-abe-remote.mjs
```

**é¢„æœŸè¾“å‡º**ï¼š
```
=== å¯åŠ¨ abe å®¢æˆ·ç«¯ï¼ˆè¿œç¨‹éƒ¨ç½²ï¼‰ ===
[é…ç½®] Redis: 192.168.3.250:6379
[é…ç½®] LM Studio: http://192.168.3.200:1234/v1
[AbeClient] Starting...
[ChatClient][abee-1] Listening for messages...
[AbeClient] Started successfully
[abe å®¢æˆ·ç«¯] è¿è¡Œä¸­...ï¼ˆæŒ‰ Ctrl+C é€€å‡ºï¼‰
```

---

## éªŒè¯éƒ¨ç½²

### æ£€æŸ¥é¡¹

| é¡¹ç›® | çŠ¶æ€ | è¯´æ˜ |
|-----|------|------|
| **Redis è¿æ¥** | âœ… åº”è¯¥æˆåŠŸ | `[ChatClient][abee-1] Connected to Redis` |
| **LM Studio** | ğŸŸ¡ å¯é€‰ | ç”¨äºä»£ç ç”Ÿæˆä»»åŠ¡ |
| **å¿ƒè·³æ¶ˆæ¯** | âœ… è‡ªåŠ¨å‘é€ | æ¯ 10 ç§’ï¼ˆæ´»è·ƒï¼‰æˆ– 60 ç§’ï¼ˆç©ºé—²ï¼‰|

---

### æµ‹è¯•é€šä¿¡

#### åœ¨ Host æœºå™¨ä¸Šå¯åŠ¨ Host å®¢æˆ·ç«¯

```powershell
cd C:\Users\10952\.openclaw\workspace\3party-chat
npm run start:host
```

#### å‘é€æµ‹è¯•æ¶ˆæ¯

åœ¨ Host æœºå™¨ä¸Šå‘é€æ¶ˆæ¯ç»™ abeï¼š

```powershell
# ä½¿ç”¨äº¤äº’å¼æµ‹è¯•è„šæœ¬
node test-host.mjs

# æˆ–ç›´æ¥å¯åŠ¨ Host å®¢æˆ·ç«¯
# Host ä¼šè‡ªåŠ¨æ¥æ”¶ abe çš„å¿ƒè·³æ¶ˆæ¯
```

**é¢„æœŸç»“æœ**ï¼š
- Host æ”¶åˆ° `status` ç±»å‹çš„æ¶ˆæ¯ï¼ˆæ¥è‡ª abe çš„å¿ƒè·³ï¼‰
- abe æ”¶åˆ° Host çš„æ¶ˆæ¯

---

## å¸¸è§é—®é¢˜

### Q1: æ‰¾ä¸åˆ° node å‘½ä»¤

**é”™è¯¯ä¿¡æ¯**ï¼š
```
node : æ— æ³•è¯†åˆ«çš„å‘½ä»¤
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
- å®‰è£… Node.js: https://nodejs.org/
- é€‰æ‹© LTS ç‰ˆæœ¬ï¼ˆæ¨è 20.xï¼‰
- é‡å¯ PowerShell

---

### Q2: Redis è¿æ¥å¤±è´¥

**é”™è¯¯ä¿¡æ¯**ï¼š
```
Error: connect ECONNREFUSED 192.168.3.250:6379
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥ Host æœºå™¨çš„ Redis æ˜¯å¦è¿è¡Œï¼š
   ```powershell
   # åœ¨ Host æœºå™¨ä¸Š
   Get-Process -Name redis*
   ```

2. æ£€æŸ¥é˜²ç«å¢™æ˜¯å¦å…è®¸ 6379 ç«¯å£ï¼š
   ```powershell
   # åœ¨ Host æœºå™¨ä¸Š
   New-NetFirewallRule -DisplayName "Allow Redis" -Direction Inbound -Protocol TCP -LocalPort 6379 -Action Allow
   ```

3. ç¡®è®¤ IP åœ°å€ `192.168.3.250` æ­£ç¡®

---

### Q3: LM Studio ä¸å¯ç”¨

**é”™è¯¯ä¿¡æ¯**ï¼š
```
[AbeClient] Failed to chat with LM: fetch failed
```

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. åœ¨ abe æœºå™¨ä¸Šæ‰“å¼€ LM Studio
2. ç¡®è®¤ API æœåŠ¡å™¨æ­£åœ¨è¿è¡Œï¼š
   - æŸ¥çœ‹ LM Studio ç•Œé¢ä¸­ API æœåŠ¡å™¨çŠ¶æ€
   - ç«¯å£æ˜¯å¦ä¸º 1234
3. ç¡®è®¤ URL æ˜¯å¦æ­£ç¡®ï¼š`http://192.168.3.200:1234/v1`

---

### Q4: Host æ”¶ä¸åˆ° abe çš„æ¶ˆæ¯

**å¯èƒ½åŸå› **ï¼š
- åŒæ–¹éƒ½ä½¿ç”¨ `$` ä½œä¸ºåˆå§‹ IDï¼ˆåªè¯»æœ€æ–°æ¶ˆæ¯ï¼‰
- å¿ƒè·³æ¶ˆæ¯éœ€è¦å‘é€å†å²æ¶ˆæ¯æ‰èƒ½è¢«æ¥æ”¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
- Host å®¢æˆ·ç«¯å¯åŠ¨åï¼Œç­‰å¾… 10 ç§’åè‡ªç„¶ä¼šæ”¶åˆ°å¿ƒè·³
- æˆ–è€…åœ¨ abe å®¢æˆ·ç«¯å¯åŠ¨å‰ï¼ŒHost å…ˆå‘é€ä¸€æ¡å†å²æ¶ˆæ¯

---

## è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ï¼ˆå¯é€‰ï¼‰

### deploy_abee.ps1ï¼ˆåœ¨ abe æœºå™¨ä¸Šæ‰§è¡Œï¼‰

```powershell
# ===== ABE å®¢æˆ·ç«¯è‡ªåŠ¨éƒ¨ç½²è„šæœ¬ =====
# ä½ç½®: C:\deploy_abee.ps1

# 1. è®¾ç½®éƒ¨ç½²è·¯å¾„
$DeployPath = "C:\3party-chat"

# 2. åˆ›å»ºç›®å½•
New-Item -Path $DeployPath -ItemType Directory -Force
Write-Host "[éƒ¨ç½²] åˆ›å»ºç›®å½•: $DeployPath"

# 3. è§£å‹ï¼ˆå‡è®¾éƒ¨ç½²åŒ…åœ¨å½“å‰ç›®å½•ï¼‰
$DeployPackage = "C:\Downloads\3party-chat-deploy-v2.tar.gz"
tar -xzf $DeployPackage -C C:\
Write-Host "[éƒ¨ç½²] è§£å‹: $DeployPackage"

# 4. è¿›å…¥ç›®å½•
cd $DeployPath

# 5. å®‰è£…ä¾èµ–
Write-Host "[éƒ¨ç½²] å®‰è£…ä¾èµ–..."
npm install

# 6. ç¼–è¯‘
Write-Host "[éƒ¨ç½²] ç¼–è¯‘é¡¹ç›®..."
npm run build

# 7. å¯åŠ¨å®¢æˆ·ç«¯
Write-Host "[éƒ¨ç½²] å¯åŠ¨ abe å®¢æˆ·ç«¯..."
Write-Host "[å®Œæˆ] abe å®¢æˆ·ç«¯å·²å¯åŠ¨ï¼"
node start-abe-remote.mjs
```

**è¿è¡Œ**ï¼š
```powershell
# åœ¨ abe æœºå™¨ä¸Šè¿è¡Œ
C:\deploy_abee.ps1
```

---

## å®Œæ•´éƒ¨ç½²æµç¨‹ï¼ˆæ¨èï¼‰

### Host æœºå™¨ï¼ˆ192.168.3.250ï¼‰

```powershell
# 1. ç¡®è®¤éƒ¨ç½²åŒ…å­˜åœ¨
Get-ChildItem C:\Users\10952\.openclaw\workspace\3party-chat-deploy-v2.tar.gz

# 2. æ‰‹åŠ¨å¤åˆ¶åˆ° abe æœºå™¨
# å¤åˆ¶æ–¹å¼ï¼šå…±äº«æ–‡ä»¶å¤¹ / USB / SCP
```

### abe æœºå™¨ï¼ˆ192.168.3.200ï¼‰

```powershell
# 1. è§£å‹éƒ¨ç½²åŒ…
New-Item -Path "C:\3party-chat" -ItemType Directory -Force
tar -xzf "C:\Downloads\3party-chat-deploy-v2.tar.gz" -C C:\

# 2. å®‰è£…ä¾èµ–
cd C:\3party-chat
npm install

# 3. ç¼–è¯‘
npm run build

# 4. å¯åŠ¨å®¢æˆ·ç«¯
node start-abe-remote.mjs
```

---

## æ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Host æœºå™¨ (192.168.3.250)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Redis (Port 6379)           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†‘                          â”‚
â”‚         â”œâ”€â”€ åš å®¢æˆ·ç«¯ (human-1)      â”‚
â”‚         â”œâ”€â”€ Host å®¢æˆ·ç«¯ (host-1)     â”‚
â”‚         â””â”€â”€ abe å®¢æˆ·ç«¯ (æ¥è‡ªç½‘ç»œ) â†â”€â”€â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

         ç½‘ç»œ (å±€åŸŸç½‘)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚        abe æœºå™¨ (192.168.3.200)     â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   LM Studio (Port 1234)      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â†‘                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   abe å®¢æˆ·ç«¯ (abee-1)         â”‚  â”‚
â”‚  â”‚   è¿æ¥åˆ° Host Redis           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‹ä¸€æ­¥

éƒ¨ç½²å®Œæˆåï¼š
1. âœ… abe å®¢æˆ·ç«¯è¿è¡Œä¸­
2. âœ… Host å®¢æˆ·ç«¯è¿è¡Œä¸­
3. âœ… åš å®¢æˆ·ç«¯è¿è¡Œä¸­ï¼ˆå¯é€‰ï¼‰
4. ğŸ“Š **3 æ–¹é€šä¿¡æµ‹è¯•**ï¼ˆä¸‹ä¸€æ­¥ï¼‰

**åšï¼Œéƒ¨ç½²å®Œæˆåå‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šå¸®ä½ è¿›è¡Œ 3 æ–¹é€šä¿¡æµ‹è¯•ï¼** ğŸš€

